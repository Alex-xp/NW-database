DB_GUI={},DB_GUI.TD=function(){return this.title=null,this.thClass="dbguiTD",this.data=null,this._FName=null,this._FIndex=null,this.cssClass="dbguiTD",this.onClick=null,this.cssClickClass="dbguiTDCC",this.cssClickStyle="cursor:pointer;",this.clickWrap='<span onclick="{.onClick.}" class="{.class.}" style="{.style.}" >{.data.}</span>',this._onClick=function(a,b){var c=this.clickWrap.replace("{.onClick.}",this.onClick+"('"+b+"')");return c=c.replace("{.class.}",this.cssClickClass),c=c.replace("{.style.}",this.cssClickStyle),c=c.replace("{.data.}",a)},this.onSelect=null,this._renData=function(a,b){var c=a;return null!==this.data&&(c=this.data,c=c.replace(/({#.uid.#})/g,b)),null!==this.onClick&&(c=this._onClick(c,b)),c},this},DB_GUI.TABLE=function(a,b){this.db=a||null;var c=b||null;return this.__sql="","string"==typeof c?this.__sql=c:null!==c&&(this.__sql=c.sql),this.border=1,this.style="border: 1px solid #000000; border-collapse: collapse; width:100%;",this.setDBObj=function(a){return this.db=a,this},this.th_cl="th_cl",this.td_cl="td_cl",this.tds={},this.IDKey=null,this.ALL_FIELDS=!0,this.__testTDS=function(a){for(var b=0;b<a.filelds_count;b++){var c=a.fields_names[b],d=this.tds[c];void 0===d?this.ALL_FIELDS&&(d=this.tds[c]=new DB_GUI.TD,d._FIndex=b,d._FName=c):(d._FIndex=b,d._FName=c)}},this.HView=!0,this._renHeader_=function(a){var b="<tr>";for(var c in this.tds){var d=this.tds[c];void 0!==d&&(b=b+'<th class="'+d.thClass+'">',b+=null!==d.title?d.title:c,b+="</th>")}return b+="</tr>"},this._renTD=function(a,b,c){var d="",e=this.tds[c];if(void 0===e)return"";var f=-1;return null!==this.IDKey&&(f=a.getForName(b,this.IDKey)),d=d+'<td class="'+e.cssClass+'" >',d+=e._renData(a.getForName(b,c),f),d+="</td>"},this.render=function(){var a=this.db.Query(this.__sql),b='<table style="'+this.style+'" border="'+this.border+'">';this.__testTDS(a),this.HView&&(b+=this._renHeader_(a));for(var c=0;c<a.rows_count;c++){b+="<tr>";for(var d in this.tds)b+=this._renTD(a,c,d);b+="</tr>"}return b+="</table>"},this},module.exports=DB_GUI;